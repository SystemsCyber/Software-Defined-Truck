Heavy vehicles are the lifeblood of modern economy. Modern vehicles are electronically controlled and obey the openly available SAE-J1939 and CAN (Controller Area Network) standards for in-vehicle networking. Both these standards are shown to have their security shortcomings. Therefore, security research for heavy vehicle networks is critical. Unfortunately, testing platforms or appropriate data is a rarity. Researchers, including our group, have identified the need for remotely accessible test benches to solve this problem. Testbenches with virtualized in-vehicle communication and integrated X-in-the-loop have been also been proposed. To the best of our knowledge, no system has demonstrated the possibility of integrating both with actual in-vehicle controllers. 

To this end, we propose a testbench for in-vehicle security research with reconfigurable networking and vehicle simulation to control the output of in-vehicle controllers. Reconfiguration is achieved through network virtualization over TCP/IP.

In the process, we aim to preserve reliability and reduce latency. CAN provides inherently reliable communication. The question is, can the same be achieved when CAN networks are virtualized? CAN is also a low latency communication protocol. TCP/IP communication may be achieved over heterogeneous media and multiple hops. This raises the question, how do factors like message transmission rate, network congestion, etc. affect the latency on the virtualized network? In this paper, we try to answer these questions with an exemplary setup hosted within our university's perimeter. Because the virtual network interfaces with a vehicle simulator, we inspect the effect of the latency on the simulation and attempt to smooth out jitters in the virtual driving process.
SAE-J3061: Cybersecurity Guidebook for Cyber-Physical Vehicle Systems recommends the integration of cybersecurity testing at different levels of product realization. For medium and heavy-duty vehicle electronics, appropriate testing platforms, and research data are hard to find. Researchers have identified the need for remotely accessible test benches to address this problem. Testbenches with virtualized in-vehicle communication and integrated X-in-the-loop have been proposed separately in literature. To date, no system has demonstrated the ability to integrate both with actual electronic control units (ECU). 

To this end, the functional objective of this work is to develop a testbench for in-vehicle security research with virtual networking and vehicle simulation to control the output of ECUs. Network virtualization is achieved by relaying Controller Area Network (CAN) frames over User Datagram Protocol (UDP) on multicast domains. Vehicle simulation is achieved through autonomous driving tools. The output of the simulation is also relayed over the virtual networks. The current version of the testbed is hosted within a laboratory network.

From a quality perspective, there are two objectives. CAN supports reliable delivery of frames. The first objective is to achieve the same over virtualized CAN. CAN is also a low latency communication protocol. UDP communication is achieved over heterogeneous media and multiple hops. Therefore, the second objective is to control the latency of the virtual network and smooth out its effect on the driving simulation. 

